<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Professional Suno AI Song Architect. The ultimate Custom Mode assistant for Suno. Optimized lyrics, professional style tags, and chord progression suggestions.">
    <meta name="keywords"
        content="suno ai generator, song architect, ai music consultant, chord progression generator, suno style tags">
    <title>Suno AI Song Architect | Hao Ling Sheng</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="stylesheet" href="styles.css?v=12">
    <style>
        /* Modern Layout: Input Left, Analysis Right */
        .master-container {
            max-width: 1300px;
            margin: var(--space-2xl) auto;
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: var(--space-xl);
        }

        @media (max-width: 1000px) {
            .master-container {
                grid-template-columns: 1fr;
            }
        }

        /* Suno-style Input Panel */
        .input-panel {
            background: var(--bg-secondary);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-xl);
            padding: var(--space-2xl);
            box-shadow: var(--shadow-lg);
        }

        .input-group {
            margin-bottom: var(--space-xl);
        }

        .input-group label {
            display: block;
            font-weight: 600;
            color: var(--accent-cyan);
            margin-bottom: var(--space-sm);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .suno-textarea {
            width: 100%;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-default);
            border-radius: var(--radius-md);
            padding: var(--space-md);
            color: var(--text-primary);
            font-family: inherit;
            font-size: 1rem;
            line-height: 1.5;
            resize: vertical;
            transition: border-color 0.2s;
        }

        .suno-textarea:focus {
            outline: none;
            border-color: var(--accent-green);
        }

        .suno-input {
            width: 100%;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-default);
            border-radius: var(--radius-md);
            padding: var(--space-sm) var(--space-md);
            color: var(--text-primary);
            font-size: 1rem;
            transition: border-color 0.2s;
        }

        .suno-input:focus {
            border-color: var(--accent-cyan);
            outline: none;
        }

        /* Analysis Panel */
        .analysis-panel {
            position: sticky;
            top: var(--space-xl);
            height: fit-content;
            display: flex;
            flex-direction: column;
            gap: var(--space-lg);
        }

        .analysis-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            box-shadow: var(--shadow-md);
        }

        .analysis-card h3 {
            font-size: 1rem;
            margin-bottom: var(--space-md);
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            color: var(--text-primary);
        }

        .suggestion-item {
            font-size: 0.9rem;
            padding: var(--space-sm);
            background: var(--bg-tertiary);
            border-left: 3px solid var(--accent-green);
            margin-bottom: var(--space-sm);
            border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
        }

        .suggestion-item.warning {
            border-left-color: #f59e0b;
        }

        .chord-pill {
            display: inline-block;
            padding: 2px 8px;
            background: var(--bg-elevated);
            color: var(--accent-cyan);
            border-radius: var(--radius-sm);
            font-family: monospace;
            font-size: 0.85rem;
            margin: 2px;
            cursor: pointer;
        }

        .chord-pill:hover {
            background: var(--accent-cyan);
            color: var(--bg-primary);
        }

        /* Action Buttons */
        .btn-master {
            width: 100%;
            background: linear-gradient(135deg, var(--accent-green), var(--accent-cyan));
            color: var(--bg-primary);
            font-weight: 800;
            padding: var(--space-md);
            border: none;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: transform 0.2s;
            margin-top: var(--space-lg);
        }

        .btn-master:hover {
            transform: scale(1.02);
            filter: brightness(1.1);
        }

        .syllable-counter {
            float: right;
            font-size: 0.8rem;
            color: var(--text-tertiary);
        }
    </style>
</head>

<body>
    <header>
        <div class="container">
            <div class="logo">
                <img src="logo.svg" alt="Hao Ling Sheng Logo" class="logo-image">
                <a href="./" class="logo-text">
                    <h1>Hao Ling Sheng</h1>
                    <p class="tagline">Professional Music Education</p>
                </a>
            </div>
            <nav>
                <ul>
                    <li><a href="gepu/">Music Notation</a></li>
                    <li><a href="geci/">Music Theory</a></li>
                    <li><a href="music-production/">Production</a></li>
                    <li><a href="lyrics-singability-checker.html">Lyrics Checker</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container">
        <section style="text-align: center; padding: var(--space-xl) 0 0;">
            <h2 class="text-gradient">Suno AI Song Architect</h2>
            <p>Unified Expert Design Mode for Professional AI Production.</p>
        </section>

        <div class="master-container">
            <!-- Left: Inputs -->
            <div class="input-panel">
                <div class="input-group">
                    <label>Lyrics <span class="syllable-counter" id="syllable-count">0 Lines Analysed</span></label>
                    <textarea class="suno-textarea" id="lyrics-input" rows="12"
                        placeholder="[Intro]&#10;Echoes in the hallway, fading in the dark...&#10;&#10;[Chorus]&#10;Dancing for the light..."></textarea>
                </div>

                <div class="input-group">
                    <label>Style of Music</label>
                    <input type="text" class="suno-input" id="style-input"
                        placeholder="e.g., 90s Soul, Female Vocals, Smooth, 100bpm">
                </div>

                <div class="input-group">
                    <label>Title</label>
                    <input type="text" class="suno-input" id="title-input" placeholder="Give your masterpiece a name">
                </div>

                <button class="btn-master" id="optimize-btn">‚ö° MASTERIZE FOR SUNO</button>
            </div>

            <!-- Right: Analysis & Chords -->
            <div class="analysis-panel">
                <div class="analysis-card">
                    <h3><span>üéπ</span> Harmonic Recommendations</h3>
                    <div id="chord-suggestions">
                        <p style="font-size: 0.85rem; color: var(--text-tertiary);">Enter a style to see professional
                            chord suggestions.</p>
                    </div>
                </div>

                <div class="analysis-card">
                    <h3><span>üîç</span> Structural Audit</h3>
                    <div id="structural-audit">
                        <div class="suggestion-item">Add lyrics to begin structural analysis.</div>
                    </div>
                </div>

                <div class="analysis-card">
                    <h3><span>üìä</span> Flow Analysis</h3>
                    <div id="flow-analysis">
                        <div style="font-size: 0.85rem; color: var(--text-tertiary);">Waiting for lyrics input...</div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-bottom">
                <p>&copy; 2026 Hao Ling Sheng. Professional AI Music Consultancy.</p>
            </div>
        </div>
    </footer>

    <script src="music-wisdom.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const lyricsInput = document.getElementById('lyrics-input');
            const styleInput = document.getElementById('style-input');
            const titleInput = document.getElementById('title-input');
            const chordBox = document.getElementById('chord-suggestions');
            const auditBox = document.getElementById('structural-audit');
            const flowBox = document.getElementById('flow-analysis');
            const syllableCount = document.getElementById('syllable-count');
            const optimizeBtn = document.getElementById('optimize-btn');

            // Syllable Logic
            const countSyllables = (word) => {
                word = word.toLowerCase().replace(/[^\w]/g, '');
                if (word.length <= 3) return 1;
                word = word.replace(/(?:[^laeiouy]es|ed|[^laeiouy]e)$/, '');
                word = word.replace(/^y/, '');
                const syllables = word.match(/[aeiouy]{1,2}/g);
                return syllables ? syllables.length : 1;
            };

            const analyzeAll = () => {
                const lyrics = lyricsInput.value;
                const style = styleInput.value.toLowerCase();
                const lines = lyrics.split('\n').filter(l => l.trim() !== '');

                // 1. Structural Audit
                let auditHtml = '';
                const tags = lyrics.match(/\[(.*?)\]/g) || [];
                if (!tags.some(t => t.toLowerCase().includes('intro'))) auditHtml += '<div class="suggestion-item warning">‚ö†Ô∏è Missing [Intro] tag.</div>';
                if (!tags.some(t => t.toLowerCase().includes('chorus'))) auditHtml += '<div class="suggestion-item warning">‚ö†Ô∏è No [Chorus] detected.</div>';
                if (lines.length > 20 && !tags.some(t => t.toLowerCase().includes('bridge'))) auditHtml += '<div class="suggestion-item">üí° Consider a [Bridge] for variety.</div>';
                if (lines.length > 5 && auditHtml === '') auditHtml = '<div class="suggestion-item success">‚úÖ Structure looks professional.</div>';
                auditBox.innerHTML = auditHtml || '<div class="suggestion-item">Add lyrics to begin analysis.</div>';

                // 2. Flow Analysis
                let flowHtml = '';
                let totalSyllables = 0;
                lines.forEach((line, i) => {
                    if (line.startsWith('[')) return;
                    const words = line.trim().split(/\s+/);
                    let count = 0;
                    words.forEach(w => count += countSyllables(w));
                    totalSyllables += count;
                    if (i < 4) { // Only show first few for preview
                        flowHtml += `<div style="font-size: 0.8rem; margin-bottom: 4px;">L${i + 1}: ${count} syllables</div>`;
                    }
                });
                syllableCount.innerText = `${lines.length} lines processed`;
                flowBox.innerHTML = flowHtml || 'Waiting for lyrics...';

                // 3. Chord Suggestions based on Style
                let chordHtml = '';
                let detectedGenre = null;
                for (let genre in musicWisdom.genres) {
                    if (style.includes(genre.toLowerCase())) {
                        detectedGenre = genre;
                        break;
                    }
                }

                if (detectedGenre) {
                    const wisdom = musicWisdom.genres[detectedGenre];
                    chordHtml = `<p style="font-weight: 600; color: var(--accent-green); margin-bottom: 8px;">${detectedGenre} Style Detected</p>`;
                    wisdom.chords.forEach(c => {
                        chordHtml += `<div class="suggestion-item">Try: ${c}</div>`;
                    });
                    chordHtml += `<p style="font-size: 0.8rem; margin-top: 8px;">üí° ${wisdom.tips}</p>`;
                } else {
                    chordHtml = '<p style="font-size: 0.85rem; color: var(--text-tertiary);">Specify a genre (e.g., Pop, Jazz) in the Style box for chord ideas.</p>';
                }
                chordBox.innerHTML = chordHtml;
            };

            lyricsInput.addEventListener('input', analyzeAll);
            styleInput.addEventListener('input', analyzeAll);

            optimizeBtn.addEventListener('click', () => {
                let currentStyle = styleInput.value;
                const modifiers = ["high fidelity", "professional production", "48khz", "mastered"];
                modifiers.forEach(m => {
                    if (!currentStyle.toLowerCase().includes(m)) {
                        currentStyle += (currentStyle ? ", " : "") + m;
                    }
                });
                styleInput.value = currentStyle;
                analyzeAll();
                alert("Style tags optimized for Suno High Fidelity mode!");
            });
        });
    </script>
</body>

</html>